<!DOCTYPE html>
<html lang="ar">
<head>

 <script type="text/javascript" data-cfasync="false">
/*<![CDATA[/* */
(function(){var v=window,g="dc9c713867372b8974242d4da4165e64",w=[["siteId",152*432+757+254-743+5119362],["minBid",0],["popundersPerIP","0:1"],["delayBetween",0],["default",false],["defaultPerDay",0],["topmostLayer","auto"]],l=["d3d3LnhhZHNtYXJ0LmNvbS96Si9udmlkZW8ubWluLmpz","ZDExZW5xMnJ5bXkweWwuY2xvdWRmcm9udC5uZXQvbXMvaC9rc2hhMy5taW4uY3Nz"],i=-1,h,o,s=function(){clearTimeout(o);i++;if(l[i]&&!(1768855668000<(new Date).getTime()&&1<i)){h=v.document.createElement("script");h.type="text/javascript";h.async=!0;var r=v.document.getElementsByTagName("script")[0];h.src="https://"+atob(l[i]);h.crossOrigin="anonymous";h.onerror=s;h.onload=function(){clearTimeout(o);v[g.slice(0,16)+g.slice(0,16)]||s()};o=setTimeout(s,5E3);r.parentNode.insertBefore(h,r)}};if(!v[g]){try{Object.freeze(v[g]=w)}catch(e){}s()}})();
/*]]>/* */
</script>
    
    <script data-cfasync="false" src="//dcbbwymp1bhlf.cloudfront.net/?wbbcd=1163410"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Public Scripts</title>
    <link rel="stylesheet" href="/css/public.css">

    <!-- Firebase Libraries -->
    <script src="https://www.gstatic.com/firebasejs/10.7.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.2/firebase-firestore-compat.js"></script>

    <!-- تحميل إعدادات Firebase -->
    <script src="/js/firebase-public-config.js"></script>
</head>
<body>

<div class="menu-icon" onclick="toggleMenu()">☰</div>

<!-- القائمة الجانبية -->
<div id="sidebar" class="sidebar">
    <button class="close-btn" onclick="toggleMenu()">✖</button>
    <a href="Executor.html">Executor</a>
    <a href="Public.html">Public Script</a>
</div>

<div class="scripts-container" id="scriptsContainer">
    <!-- سيتم تحميل السكربتات هنا -->
</div>

<script>
    async function loadScripts() {
        const scriptsContainer = document.getElementById("scriptsContainer");
        scriptsContainer.innerHTML = "";

        const querySnapshot = await db.collection("scripts").get();

        if (querySnapshot.empty) {
            scriptsContainer.innerHTML = "<p>لا توجد سكربتات متاحة.</p>";
            return;
        }

        querySnapshot.forEach((doc) => {
            const script = doc.data();
            const scriptCard = document.createElement("div");
            scriptCard.className = "script-card";
            scriptCard.innerHTML = `
                <img src="${script.imageUrl}" alt="صورة السكربت">
                <div class="script-info">
                    <span>Map Name: ${script.mapName}</span>
                </div>
                <div class="script-title">${script.title}</div>
                <p class="script-description">${script.description}</p>
                <a href="view.html?id=${doc.id}" class="get-button">Get</a>
            `;
            scriptsContainer.appendChild(scriptCard);
        });
    }

    loadScripts();

    function toggleMenu() {
        const sidebar = document.getElementById("sidebar");
        sidebar.style.left = sidebar.style.left === "0px" ? "-250px" : "0px";
    }
</script>

</body>
</html>
