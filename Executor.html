<!DOCTYPE html>
<html lang="ar">
<head> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¹Ø±Ø¶ Ø§Ù„Ù‡Ø§ÙƒØ§Øª</title>
    <link rel="stylesheet" href="/css/hack.css">
    <script src="https://www.gstatic.com/firebasejs/10.7.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.2/firebase-firestore-compat.js"></script>
</head>
<body>

<h1>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‡Ø§ÙƒØ§Øª</h1>
<div id="scriptsContainer"></div>

<script>
    // ØªÙƒÙˆÙŠÙ† Firebase
    const firebaseConfig = {
        apiKey: "AIzaSyBespCtavesyrdzKcB3LRr4vXd_U6XhfO4",
        authDomain: "token-9ae6a.firebaseapp.com",
        projectId: "token-9ae6a",
        storageBucket: "token-9ae6a.appspot.com",
        messagingSenderId: "434290198239",
        appId: "1:434290198239:web:a56983c6f74da146830b6a",
        measurementId: "G-FMB4BZ07DR"
    };
    
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    
    db.collection("scripts").orderBy("id", "desc").get().then((querySnapshot) => {
        const scriptsContainer = document.getElementById("scriptsContainer");
        querySnapshot.forEach((doc) => {
            const scriptData = doc.data();
            const scriptBox = document.createElement("div");
            scriptBox.classList.add("script-box");

            scriptBox.innerHTML = `
                <div class="script-title">${scriptData.title}</div>
                <div class="script-description">${scriptData.description}</div>
                <div class="script-platform">ğŸ–¥ <b>Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„:</b> ${scriptData.platform}</div>
                <a href="${scriptData.downloadLink}" class="script-link" target="_blank">ğŸ”— ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‡Ø§Ùƒ</a>
                <button class="share-button" onclick="shareLink('${doc.id}')">ğŸ“¤ Ù…Ø´Ø§Ø±ÙƒØ©</button>
            `;
            scriptsContainer.appendChild(scriptBox);
        });
    });

    function shareLink(id) {
        const link = `https://h-scripts.site/hack?id=${id}`;
        navigator.clipboard.writeText(link).then(() => {
            alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©!");
        }).catch(err => {
            console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù†Ø³Ø®: ', err);
        });
    }
</script>

</body>
</html>
